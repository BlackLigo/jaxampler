\documentclass{article}

\usepackage{geometry}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{empheq}
\usepackage{mdframed}
\usepackage{booktabs}
\usepackage{lipsum}
\usepackage{graphicx}
\usepackage{color}
\usepackage{psfrag}
\usepackage{pgfplots}
\usepackage{bm}

\geometry{a4paper}

\newcommand{\Z}{\mathcal{Z}}
\newcommand{\Log}[1]{\log{\left(#1\right)}}
\newcommand{\ncdf}[1]{\Phi\left(#1\right)}
\newcommand{\ncdfinv}[1]{\Phi^{-1}\left(#1\right)}


\title{Truncated Normal Distribution}
\author{Meesum Qazalbash}

\begin{document}
\maketitle

\section{PDF}

\begin{equation}
    f_X(x|\mu,\sigma) = \frac{1}{\sqrt{2\pi}\sigma\Z}\exp{\left(-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^{2}\right)},\; x \in [L,H]
\end{equation}

First we will find the normalization constant.

\begin{align}
    1  & =\int_{L}^{H}\frac{1}{\sqrt{2\pi}\sigma\Z}\exp{\left(-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^{2}\right)}dx                                                                                                                          \\
    \Z & = \int_{L}^{H}\frac{1}{\sqrt{2\pi}\sigma}\exp{\left(-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^{2}\right)}dx                                                                                                                           \\
    \Z & = \int_{-\infty}^{H}\frac{1}{\sqrt{2\pi}\sigma}\exp{\left(-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^{2}\right)}dx-\int_{-\infty}^{L}\frac{1}{\sqrt{2\pi}\sigma}\exp{\left(-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^{2}\right)}dx \\
    \Z & = \ncdf{\frac{H-\mu}{\sigma}}-\ncdf{\frac{L-\mu}{\sigma}}                                                                                                                                                                                 \\
    \Z & = \ncdf{\beta}-\ncdf{\alpha}
\end{align}

Where, \(\displaystyle\alpha=\frac{L-\mu}{\sigma}\) and \(\displaystyle\beta=\frac{H-\mu}{\sigma}\).

\section{CDF}

\begin{align}
    F_{X}(x) & =\int_{L}^{x}\frac{1}{\sqrt{2\pi}\sigma\Z}\exp{\left(-\frac{1}{2}\left(\frac{t-\mu}{\sigma}\right)^{2}\right)}dt                                                                                                                                                  \\
             & = \frac{1}{\Z}\int_{-\infty}^{x}\frac{1}{\sqrt{2\pi}\sigma}\exp{\left(-\frac{1}{2}\left(\frac{t-\mu}{\sigma}\right)^{2}\right)}dt-\frac{1}{\Z}\int_{-\infty}^{L}\frac{1}{\sqrt{2\pi}\sigma}\exp{\left(-\frac{1}{2}\left(\frac{t-\mu}{\sigma}\right)^{2}\right)}dt \\
             & = \frac{1}{\Z}\ncdf{\frac{x-\mu}{\sigma}}-\frac{1}{\Z}\ncdf{\frac{L-\mu}{\sigma}}                                                                                                                                                                                 \\
             & = \frac{\ncdf{\zeta}-\ncdf{\alpha}}{\Z}
\end{align}

Where, \(\displaystyle\zeta=\frac{x-\mu}{\sigma}\).

\section{Inverse CDF}

\begin{align}
    x             & = \frac{\ncdf{\frac{F_{X}^{-1}(x)-\mu}{\sigma}}-\ncdf{\alpha}}{\Z} \\
    F_{X}^{-1}(x) & = \mu+\sigma\ncdfinv{\ncdf{\alpha}+\Z x}
\end{align}


\begin{center}
    \begin{tabular}{|c|c|c|c|}
        \hline
        \(f_X(x)\)      & $\displaystyle\frac{1}{\sqrt{2\pi}\sigma\Z}\exp{\left(-\frac{1}{2}\zeta^{2}\right)}$ & \(\Log{f_X(x)}\)      & $\displaystyle-\frac{1}{2}\zeta^2-\frac{1}{2}\Log{2\pi}-\Log{\sigma}-\Log{\Z}$ \\\hline
        \(\Z(\beta)\)   & $\displaystyle\ncdf{\beta}-\ncdf{\alpha}$                                            & \(\Log{\Z(\beta)}\)   & $\displaystyle\Log{\ncdf{\beta}-\ncdf{\alpha}}$                                \\\hline
        $F_{X}(x)$      & $\displaystyle\frac{\ncdf{\zeta}-\ncdf{\alpha}}{\Z}$                                 & $\Log{F_{X}(x)}$      & $\displaystyle\Log{\ncdf{\zeta}-\ncdf{\alpha}}-\Log{\Z}$                       \\\hline
        $F_{X}^{-1}(x)$ & $\displaystyle\mu+\sigma\ncdfinv{\ncdf{\alpha}+\Z x}$                                & $\Log{F_{X}^{-1}(x)}$ & $\displaystyle\Log{\mu+\sigma\ncdfinv{\ncdf{\alpha}+\Z x}}$                    \\\hline
    \end{tabular}
\end{center}


\end{document}